/* Lightweight site-specific overrides to minimize inline code */

/* Mobile polish */
html, body { -webkit-text-size-adjust: 100%; }
a, button { touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
html { scroll-behavior: smooth; }
#header nav ul { -webkit-overflow-scrolling: touch; }
/* Use CSS var for iOS visual viewport when available */
.main.fullscreen { min-height: calc(var(--vh, 1vh) * 100); }

/* Portfolio thumbnails: ensure correct sizing and remove dimming overlay */
.gallery.custom-gallery .gallery-img { position: relative; transform: none; }
.gallery.custom-gallery .gallery-img:before { display: none !important; content: none !important; background: none !important; }
.gallery.custom-gallery .gallery-img img { filter: none !important; opacity: 1 !important; mix-blend-mode: normal !important; }
.gallery.custom-gallery .gallery-img picture { display: block; width: 100%; height: 100%; }
.gallery.custom-gallery .gallery-img picture img { width: 100%; height: 100%; object-fit: cover; display: block; }

/* Ensure About section stacks image above text on small screens (iPhone Safari) */
@media screen and (max-width: 736px) {
  #About { display: flex !important; flex-direction: column; align-items: center; padding-top: 3em; }
  #About .about-photo { float: none !important; width: min(90vw, 520px); height: auto; margin: 1em auto !important; order: 0; }
  #About .content { width: 100% !important; max-width: 92vw !important; margin: 0 auto; text-align: left; }
}

/* Match About heading font with Services titles (Caveat) */
#about-heading {
  font-family: "Caveat", cursive !important;
  font-weight: 600;
  color: #000 !important;
}

/* Header brand logo size (replaces inline style) */
#header .brand img { height: 45px; display: block; }

/* Social icon sizing (replaces inline style) */
.icon i { font-size: 2rem; line-height: 1; vertical-align: middle; }
.icons .icon i { font-size: 1.2rem; }
.icons .icon { display: inline-flex; align-items: center; gap: 0.35rem; }

/* Lightbox: Remove white caption area completely */
.poptrox-popup {
  padding-bottom: 0 !important;
}
.poptrox-popup .caption {
  display: none !important;
}

/* Lightbox: Enhanced visibility for controls */
/* Close button - make it more visible and bold */
.poptrox-popup .closer {
  opacity: 0.8 !important;
  z-index: 10 !important;
}
.poptrox-popup .closer:before {
  background: rgba(0, 0, 0, 0.7) !important;
  box-shadow: inset 0 0 0 3px #fff, 0 2px 8px rgba(0, 0, 0, 0.3) !important;
  border-radius: 50% !important;
  backdrop-filter: blur(2px);
}
.poptrox-popup:hover .closer,
.poptrox-popup .closer:hover {
  opacity: 1 !important;
}

/* Navigation arrows - make them more visible and bold */
.poptrox-popup .nav-next,
.poptrox-popup .nav-previous {
  opacity: 0.7 !important;
}
.poptrox-popup .nav-next:before,
.poptrox-popup .nav-previous:before {
  background: rgba(0, 0, 0, 0.6) url("images/poptrox-nav.svg") center center no-repeat !important;
  border-radius: 50% !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 0 0 2px rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(2px);
  width: 80px !important;
  height: 80px !important;
  margin: -40px 0 0 0 !important;
}
.poptrox-popup:hover .nav-next,
.poptrox-popup:hover .nav-previous {
  opacity: 0.9 !important;
}
.poptrox-popup:hover .nav-next:hover,
.poptrox-popup:hover .nav-previous:hover {
  opacity: 1 !important;
}

/* Touch devices - ensure controls are always visible */
body.is-touch .poptrox-popup .nav-next,
body.is-touch .poptrox-popup .nav-previous {
  opacity: 0.8 !important;
}
body.is-touch .poptrox-popup .closer {
  opacity: 0.9 !important;
}

/* Mobile adjustments */
@media screen and (max-width: 736px) {
  .poptrox-popup .nav-next:before,
  .poptrox-popup .nav-previous:before {
    width: 60px !important;
    height: 60px !important;
    margin: -30px 0 0 0 !important;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3), inset 0 0 0 2px rgba(255, 255, 255, 0.7) !important;
  }
  .poptrox-popup .closer:before {
    background: rgba(0, 0, 0, 0.8) !important;
    box-shadow: inset 0 0 0 2px #fff, 0 1px 4px rgba(0, 0, 0, 0.3) !important;
  }
}
